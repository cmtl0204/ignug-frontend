<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div formGroupName="informationStudent">
    <div class="formgrid grid">
      <div class="field xl:col-4 lg:col-4 md:col-4 sm:col-12">
        <label appLabel for="isFamilyVehicle" label="¿La familia dispone de vehículo propio?:"
               [required]="isFamilyVehicleField"></label>
        <p-dropdown
          id="isFamilyVehicle"
          formControlName="isFamilyVehicle"
          dataKey="id"
          [options]="yesNo"
          optionLabel="name"
          [filter]="true"
          filterBy="name"
          placeholder="Seleccione">
          <ng-template pTemplate="selectedItem">
            <div *ngIf="isFamilyVehicleField.value">
              <div>{{ isFamilyVehicleField.value.name }}</div>
            </div>
          </ng-template>
          <ng-template pTemplate="item" let-item>
            {{ item.name }}
          </ng-template>
        </p-dropdown>
        <small
          appErrorMessage
          [errors]="isFamilyVehicleField.errors"
          [touched]="isFamilyVehicleField.touched"
          [dirty]="isFamilyVehicleField.dirty">
        </small>
      </div>
      <div class="field xl:col-4 lg:col-4 md:col-4 sm:col-12">
        <label appLabel for="isFamilyProperties" label="¿La familia tiene otras propiedades?:"
               [required]="isFamilyPropertiesField"></label>
        <p-dropdown
          id="isFamilyProperties"
          formControlName="isFamilyProperties"
          dataKey="id"
          [options]="yesNo"
          optionLabel="name"
          [filter]="true"
          filterBy="name"
          placeholder="Seleccione">
          <ng-template pTemplate="selectedItem">
            <div *ngIf="isFamilyPropertiesField.value">
              <div>{{ isFamilyPropertiesField.value.name }}</div>
            </div>
          </ng-template>
          <ng-template pTemplate="item" let-item>
            {{ item.name }}
          </ng-template>
        </p-dropdown>
        <small
          appErrorMessage
          [errors]="isFamilyPropertiesField.errors"
          [touched]="isFamilyPropertiesField.touched"
          [dirty]="isFamilyPropertiesField.dirty">
        </small>
      </div>
      <div *ngIf="familyPropertiesField.hasValidator(Validators.required)"
           class="field xl:col-4 lg:col-4 md:col-4 sm:col-12">
        <label appLabel for="familyProperties" label="En caso de tener propiedades ¿cuáles serían estas?:"
               [required]="familyPropertiesField"></label>
        <p-dropdown
          id="familyProperties"
          formControlName="familyProperties"
          dataKey="id"
          [options]="familyProperties"
          optionLabel="name"
          [filter]="true"
          filterBy="name"
          placeholder="Seleccione">
          <ng-template pTemplate="selectedItem">
            <div *ngIf="familyPropertiesField.value">
              <div>{{ familyPropertiesField.value.name }}</div>
            </div>
          </ng-template>
          <ng-template pTemplate="item" let-item>
            {{ item.name }}
          </ng-template>
        </p-dropdown>
        <small
          appErrorMessage
          [errors]="familyPropertiesField.errors"
          [touched]="familyPropertiesField.touched"
          [dirty]="familyPropertiesField.dirty">
        </small>
      </div>
    </div>
  </div>
  <div class="formgrid grid">
    <div class="field xl:col-6 lg:col-6 md:col-6 sm:col-12">
      <p-button
        [label]="LabelButtonActionEnum.RETURN"
        [severity]="SeverityButtonActionEnum.RETURN"
        [icon]="PrimeIcons.ARROW_LEFT"
        (click)="previous.emit(-1)"></p-button>
    </div>
    <div class="field xl:col-6 lg:col-6 md:col-6 sm:col-12">
      <p-button
        *ngIf="!form.disabled"
        label="Guardar y Continuar"
        [icon]="IconButtonActionEnum.NEXT"
        iconPos="right"></p-button>

      <p-button
        *ngIf="form.disabled"
        label="Continuar"
        [icon]="IconButtonActionEnum.NEXT"
        iconPos="right"
        (click)="next.emit()"></p-button>
    </div>
  </div>
</form>
